<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Eta Values Database</title>

  <!-- MathJax Configuration -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      },
      svg: { fontCache: 'global' }
    };
  </script>

  <!-- MathJax Library -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>

  <style>
    body { 
      font-family: Arial, sans-serif; 
      margin: 40px; 
      line-height: 1.6; 
      background-color: #fffafa;
    }

    h1 { font-size: 2.5em; text-align: center; margin-bottom: 20px; }

    table { 
      border-collapse: collapse; 
      width: 80%; 
      margin: 30px auto; 
    }

    th, td { 
      border: 1px solid #888; 
      padding: 8px 12px; 
      text-align: center; 
    }

    th { background-color: #f2f2f2; }
    tr:nth-child(even) { background-color: #fafafa; }

    .toggle-btn { 
      padding: 5px 10px; 
      background-color: #4CAF50; 
      color: white; 
      border: none; 
      cursor: pointer; 
      border-radius: 4px; 
    }

    .toggle-btn:hover {
      background-color: #45a049;
    }

    .explanation { 
      display: none; 
      margin-top: 5px; 
      font-style: italic; 
      color: #333; 
      text-align: left; 
    }

    footer { 
      margin-top: 40px; 
      border-top: 1px solid #ccc; 
      padding-top: 10px; 
      font-size: 14px; 
      color: #555; 
      text-align: center;
    }

    h2 { text-align: center; margin-top: 50px; }
  </style>
</head>

<body>

<!-- Title -->
<h1>Dedekind Eta Database</h1>

<!-- Introduction -->
<h2>Introduction</h2>
<p>The Dedekind eta function, \( \eta(\tau) \), is a modular form with the following properties:</p>
<ul>
  <li>Holomorphic on the upper half-plane: \( \text{Im}(\tau) > 0 \)</li>
  <li>q-expansion: 
    \[
    \eta(\tau) = q^{1/24} \prod_{n=1}^{\infty} (1 - q^n), \quad q = e^{2 \pi i \tau}
    \]
  </li>
  <li>Modular transformations:</li>
</ul>

<p>
  \[
  \eta(\tau + 1) = e^{\pi i /12} \eta(\tau) \tag{1}
  \]
</p>
<p>
  \[
  \eta(-1/\tau) = \sqrt{-i\tau} \, \eta(\tau) \tag{2}
  \]
</p>

<!-- Tables Container -->
<div id="tables-container"></div>

<!-- Footer -->
<footer>
  This site is currently under development. For more information, contact: 
  <a href="mailto:koustavmondal2407@gmail.com">koustavmondal2407@gmail.com</a>.
</footer>

<!-- JavaScript -->
<script>
  // Load index.json first
  fetch('data/index.json')
    .then(response => response.json())
    .then(indexData => {
      const tablesContainer = document.getElementById('tables-container');

      // For each JSON file listed in index.json
      indexData.files.forEach(fileName => {
        fetch(`data/${fileName}`)
          .then(response => response.json())
          .then(data => {
            // Create table title
            const tableTitle = document.createElement('h2');
            tableTitle.textContent = fileName.replace('.json','').replace(/_/g,' ').toUpperCase();
            tablesContainer.appendChild(tableTitle);

            // Create table
            const table = document.createElement('table');

            // Table header
            const thead = document.createElement('thead');
            const headerRow = document.createElement('tr');
            ['\\(\\tau\\)', '\\(\\eta(\\tau)\\)', 'Explanation'].forEach(header => {
              const th = document.createElement('th');
              th.innerHTML = header;
              headerRow.appendChild(th);
            });
            thead.appendChild(headerRow);
            table.appendChild(thead);

            // Table body
            const tbody = document.createElement('tbody');

            data.eta_values.forEach(entry => {
              const row = document.createElement('tr');

              // tau cell
              const tauCell = document.createElement('td');
              tauCell.innerHTML = `\\(${entry.k}\\)`;
              row.appendChild(tauCell);

              // eta cell
              const etaCell = document.createElement('td');
              etaCell.innerHTML = `\\(${entry.eta_i_over_sqrt3}\\)`;
              row.appendChild(etaCell);

              // explanation cell
              const explanationCell = document.createElement('td');
              const button = document.createElement('button');
              button.textContent = "Show Explanation";
              button.className = "toggle-btn";

              const explanationBox = document.createElement('div');
              explanationBox.className = "explanation";
              explanationBox.innerHTML = entry.explanation || "No explanation available.";

              button.addEventListener('click', () => {
                const isHidden = explanationBox.style.display === "none" || explanationBox.style.display === "";
                explanationBox.style.display = isHidden ? "block" : "none";
                button.textContent = isHidden ? "Hide Explanation" : "Show Explanation";
                if (isHidden) MathJax.typesetPromise([explanationBox]);
              });

              explanationCell.appendChild(button);
              explanationCell.appendChild(explanationBox);
              row.appendChild(explanationCell);

              tbody.appendChild(row);
            });

            table.appendChild(tbody);
            tablesContainer.appendChild(table);

            // Render LaTeX
            MathJax.typesetPromise();
          })
          .catch(err => console.error(`Error loading ${fileName}:`, err));
      });
    })
    .catch(err => console.error("Error loading index.json:", err));
</script>

</body>
</html>
